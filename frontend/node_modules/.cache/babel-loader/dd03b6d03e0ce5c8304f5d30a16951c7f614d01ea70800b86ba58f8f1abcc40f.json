{"ast":null,"code":"import express from 'express';\nimport cors from 'cors';\nimport fetch from 'node-fetch';\nconst app = express();\nconst port = 3001;\napp.use(cors());\n\n// API credentials and endpoint\nconst apiKey = process.env.REACT_APP_PET_FINDER_API_KEY;\nconst apiSecret = process.env.REACT_APP_PET_FINDER_API_KEY;\nconst petfinderEndpoint = 'https://api.petfinder.com/v2/animals';\nconst accessToken = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiJDbncyY3o0TXg5VmNzOEdOVWNYbW5YMFE0bmwxUTVROEJFVmpWdWtGb0ZIb2pOQWxveSIsImp0aSI6Ijc3ZTc4ZjRkYzhkZjY1NmE2ZjJjZjcwYjk2MmYyOTRhYzBiM2Y0N2RiYTdlNTkyMGQ2YzNhNTgxZDEyOGI2ZWE5NjhjMDk3YWQwYTRhNDRhIiwiaWF0IjoxNjk0MTkyMTUyLCJuYmYiOjE2OTQxOTIxNTIsImV4cCI6MTY5NDE5NTc1Miwic3ViIjoiIiwic2NvcGVzIjpbXX0.FLviCjRyxnxj3ZukThYnXzurNv1l0C5OUqwtzhJF3lSkwPWYHLLw-ccvSjf2cYD1sPS-xF0dRBfrYflzLLAveZoINvG0Z5bYV_DOrmIAjLDTeRj_20y5IZw_YcwqLp7BGi0ImXqbAvINZ0kWTGZnXi-HlaHxMDV9z6eujRFv3u-7JaSoDgAzi_uqOBzyLBp34Qrg8s9DUmqd-rvuyeTtEtVrfPTg99K-JmzM2_n4J3YCFeJ6-Lc-yoVuD6etamCeunP3i3VwfBjjL1pxisuNSsJix6MWGBamQPvBEY5Eijin_FeAMscp5LihXu74N_cy4i2ufa2E5drWIIBDZDDTWQ';\napp.get('/api/petfinder', async (req, res) => {\n  const queryParams = new URLSearchParams(req.query);\n  try {\n    const response = await fetch(`${petfinderEndpoint}?${queryParams.toString()}`, {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${accessToken}`,\n        'Content-Type': 'application/json'\n      }\n    });\n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error('API Error:', errorData);\n      throw new Error(`Request failed with status: ${response.status}`);\n    }\n    const data = await response.json();\n    res.json(data);\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    res.status(500).json({\n      error: 'An error occurred while fetching data'\n    });\n  }\n});\napp.listen(port, () => {\n  console.log(`Server is running on port ${port}`);\n});","map":{"version":3,"names":["express","cors","fetch","app","port","use","apiKey","process","env","REACT_APP_PET_FINDER_API_KEY","apiSecret","petfinderEndpoint","accessToken","get","req","res","queryParams","URLSearchParams","query","response","toString","method","headers","ok","errorData","json","console","error","Error","status","data","listen","log"],"sources":["/Users/yannellym/Desktop/iwantapet/frontend/src/components/MainPage.js"],"sourcesContent":["import express from 'express';\nimport cors from 'cors';\nimport fetch from 'node-fetch';\n\nconst app = express();\nconst port = 3001;\n\napp.use(cors());\n\n// API credentials and endpoint\nconst apiKey = process.env.REACT_APP_PET_FINDER_API_KEY;\nconst apiSecret = process.env.REACT_APP_PET_FINDER_API_KEY;\nconst petfinderEndpoint = 'https://api.petfinder.com/v2/animals';\nconst accessToken = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiJDbncyY3o0TXg5VmNzOEdOVWNYbW5YMFE0bmwxUTVROEJFVmpWdWtGb0ZIb2pOQWxveSIsImp0aSI6Ijc3ZTc4ZjRkYzhkZjY1NmE2ZjJjZjcwYjk2MmYyOTRhYzBiM2Y0N2RiYTdlNTkyMGQ2YzNhNTgxZDEyOGI2ZWE5NjhjMDk3YWQwYTRhNDRhIiwiaWF0IjoxNjk0MTkyMTUyLCJuYmYiOjE2OTQxOTIxNTIsImV4cCI6MTY5NDE5NTc1Miwic3ViIjoiIiwic2NvcGVzIjpbXX0.FLviCjRyxnxj3ZukThYnXzurNv1l0C5OUqwtzhJF3lSkwPWYHLLw-ccvSjf2cYD1sPS-xF0dRBfrYflzLLAveZoINvG0Z5bYV_DOrmIAjLDTeRj_20y5IZw_YcwqLp7BGi0ImXqbAvINZ0kWTGZnXi-HlaHxMDV9z6eujRFv3u-7JaSoDgAzi_uqOBzyLBp34Qrg8s9DUmqd-rvuyeTtEtVrfPTg99K-JmzM2_n4J3YCFeJ6-Lc-yoVuD6etamCeunP3i3VwfBjjL1pxisuNSsJix6MWGBamQPvBEY5Eijin_FeAMscp5LihXu74N_cy4i2ufa2E5drWIIBDZDDTWQ';\n\napp.get('/api/petfinder', async (req, res) => {\n  const queryParams = new URLSearchParams(req.query);\n\n  try {\n    const response = await fetch(`${petfinderEndpoint}?${queryParams.toString()}`, {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${accessToken}`,\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      const errorData = await response.json();\n      console.error('API Error:', errorData);\n      throw new Error(`Request failed with status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    res.json(data);\n  } catch (error) {\n    console.error('Error fetching data:', error);\n    res.status(500).json({ error: 'An error occurred while fetching data' });\n  }\n});\n\napp.listen(port, () => {\n  console.log(`Server is running on port ${port}`);\n});"],"mappings":"AAAA,OAAOA,OAAO,MAAM,SAAS;AAC7B,OAAOC,IAAI,MAAM,MAAM;AACvB,OAAOC,KAAK,MAAM,YAAY;AAE9B,MAAMC,GAAG,GAAGH,OAAO,CAAC,CAAC;AACrB,MAAMI,IAAI,GAAG,IAAI;AAEjBD,GAAG,CAACE,GAAG,CAACJ,IAAI,CAAC,CAAC,CAAC;;AAEf;AACA,MAAMK,MAAM,GAAGC,OAAO,CAACC,GAAG,CAACC,4BAA4B;AACvD,MAAMC,SAAS,GAAGH,OAAO,CAACC,GAAG,CAACC,4BAA4B;AAC1D,MAAME,iBAAiB,GAAG,sCAAsC;AAChE,MAAMC,WAAW,GAAG,qqBAAqqB;AAEzrBT,GAAG,CAACU,GAAG,CAAC,gBAAgB,EAAE,OAAOC,GAAG,EAAEC,GAAG,KAAK;EAC5C,MAAMC,WAAW,GAAG,IAAIC,eAAe,CAACH,GAAG,CAACI,KAAK,CAAC;EAElD,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMjB,KAAK,CAAE,GAAES,iBAAkB,IAAGK,WAAW,CAACI,QAAQ,CAAC,CAAE,EAAC,EAAE;MAC7EC,MAAM,EAAE,KAAK;MACbC,OAAO,EAAE;QACP,eAAe,EAAG,UAASV,WAAY,EAAC;QACxC,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;IAEF,IAAI,CAACO,QAAQ,CAACI,EAAE,EAAE;MAChB,MAAMC,SAAS,GAAG,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;MACvCC,OAAO,CAACC,KAAK,CAAC,YAAY,EAAEH,SAAS,CAAC;MACtC,MAAM,IAAII,KAAK,CAAE,+BAA8BT,QAAQ,CAACU,MAAO,EAAC,CAAC;IACnE;IAEA,MAAMC,IAAI,GAAG,MAAMX,QAAQ,CAACM,IAAI,CAAC,CAAC;IAClCV,GAAG,CAACU,IAAI,CAACK,IAAI,CAAC;EAChB,CAAC,CAAC,OAAOH,KAAK,EAAE;IACdD,OAAO,CAACC,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC5CZ,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACJ,IAAI,CAAC;MAAEE,KAAK,EAAE;IAAwC,CAAC,CAAC;EAC1E;AACF,CAAC,CAAC;AAEFxB,GAAG,CAAC4B,MAAM,CAAC3B,IAAI,EAAE,MAAM;EACrBsB,OAAO,CAACM,GAAG,CAAE,6BAA4B5B,IAAK,EAAC,CAAC;AAClD,CAAC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}