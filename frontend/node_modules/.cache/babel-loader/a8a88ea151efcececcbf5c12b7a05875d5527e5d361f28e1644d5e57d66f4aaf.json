{"ast":null,"code":"var _jsxFileName = \"/Users/yannellym/Desktop/iwantapet/frontend/src/components/AllPetsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport PetCard from './PetCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AllPetsPage() {\n  _s();\n  const [cachedPets, setCachedPets] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const petsPerPage = 20;\n  const fetchAnimalsByType = async (type, page) => {\n    try {\n      const response = await fetch(`http://localhost:3002/api/petfinder?type=${type}&offset=${(page - 1) * petsPerPage}&limit=${petsPerPage}`);\n      const data = await response.json();\n      return data.animals || [];\n    } catch (error) {\n      console.error('Error fetching data:', error.message);\n      return [];\n    }\n  };\n  const fetchNextPage = async page => {\n    const data = await fetchAnimalsByType(type, page);\n    setCachedPets(prevCachedPets => [...prevCachedPets, ...data]);\n  };\n  useEffect(() => {\n    fetchNextPage(currentPage);\n  }, []);\n  const paginate = pageNumber => {\n    setCurrentPage(pageNumber);\n    if (cachedPets.length < pageNumber * petsPerPage) {\n      fetchNextPage(pageNumber);\n    }\n  };\n  const totalPages = Math.ceil(cachedPets.length / petsPerPage);\n  const paginationNumbers = Array.from({\n    length: totalPages\n  }, (_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => paginate(index + 1),\n    children: index + 1\n  }, index + 1, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this));\n  const start = (currentPage - 1) * petsPerPage;\n  const end = start + petsPerPage;\n  const displayedPets = cachedPets.slice(start, end);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"all-pets-page\",\n    children: [displayedPets.map(pet => /*#__PURE__*/_jsxDEV(PetCard, {\n      pet: pet\n    }, pet.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagination\",\n      children: paginationNumbers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_s(AllPetsPage, \"k/1EVzulKCIH45HP6/dSPIo67n8=\");\n_c = AllPetsPage;\nexport default AllPetsPage;\nvar _c;\n$RefreshReg$(_c, \"AllPetsPage\");","map":{"version":3,"names":["React","useState","useEffect","PetCard","jsxDEV","_jsxDEV","AllPetsPage","_s","cachedPets","setCachedPets","currentPage","setCurrentPage","petsPerPage","fetchAnimalsByType","type","page","response","fetch","data","json","animals","error","console","message","fetchNextPage","prevCachedPets","paginate","pageNumber","length","totalPages","Math","ceil","paginationNumbers","Array","from","_","index","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","start","end","displayedPets","slice","className","map","pet","id","_c","$RefreshReg$"],"sources":["/Users/yannellym/Desktop/iwantapet/frontend/src/components/AllPetsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PetCard from './PetCard';\n\nfunction AllPetsPage() {\n  const [cachedPets, setCachedPets] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const petsPerPage = 20;\n\n  const fetchAnimalsByType = async (type, page) => {\n    try {\n      const response = await fetch(\n        `http://localhost:3002/api/petfinder?type=${type}&offset=${(page - 1) * petsPerPage}&limit=${petsPerPage}`\n      );\n      const data = await response.json();\n      return data.animals || [];\n    } catch (error) {\n      console.error('Error fetching data:', error.message);\n      return [];\n    }\n  };\n\n  const fetchNextPage = async (page) => {\n    const data = await fetchAnimalsByType(type, page);\n    setCachedPets((prevCachedPets) => [...prevCachedPets, ...data]);\n  };\n\n  useEffect(() => {\n    fetchNextPage(currentPage);\n  }, []);\n\n  const paginate = (pageNumber) => {\n    setCurrentPage(pageNumber);\n    if (cachedPets.length < pageNumber * petsPerPage) {\n      fetchNextPage(pageNumber);\n    }\n  };\n\n  const totalPages = Math.ceil(cachedPets.length / petsPerPage);\n\n  const paginationNumbers = Array.from({ length: totalPages }, (_, index) => (\n    <button key={index + 1} onClick={() => paginate(index + 1)}>\n      {index + 1}\n    </button>\n  ));\n\n  const start = (currentPage - 1) * petsPerPage;\n  const end = start + petsPerPage;\n  const displayedPets = cachedPets.slice(start, end);\n\n  return (\n    <div className=\"all-pets-page\">\n      {displayedPets.map((pet) => (\n        <PetCard key={pet.id} pet={pet} />\n      ))}\n      <div className=\"pagination\">{paginationNumbers}</div>\n    </div>\n  );\n}\n\nexport default AllPetsPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}