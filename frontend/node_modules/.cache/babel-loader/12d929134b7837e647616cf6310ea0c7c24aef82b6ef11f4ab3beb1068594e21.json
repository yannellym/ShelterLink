{"ast":null,"code":"var _jsxFileName = \"/Users/yannellym/Desktop/iwantapet/frontend/src/components/AllPetsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport PetCard from './PetCard';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AllPetsPage() {\n  _s();\n  const [cachedPets, setCachedPets] = useState([]); // Initialize the cache as an empty array\n  const [currentPage, setCurrentPage] = useState(1);\n  const petsPerPage = 20;\n  const fetchAnimalsFromApi = async page => {\n    // Make an API request to fetch pets and replace this with your actual API endpoint\n    const response = await fetch(`your-api-endpoint?page=${page}`);\n    const data = await response.json();\n    return data.animals || [];\n  };\n  const fetchNextPage = async page => {\n    const data = await fetchAnimalsFromApi(page);\n    setCachedPets(prevCachedPets => [...prevCachedPets, ...data]);\n  };\n  useEffect(() => {\n    // When the component mounts, fetch the first page\n    fetchNextPage(currentPage);\n  }, []);\n  const paginate = pageNumber => {\n    setCurrentPage(pageNumber);\n    // Check if the data for this page is already in the cache\n    if (cachedPets.length < pageNumber * petsPerPage) {\n      // If not, fetch the data and add it to the cache\n      fetchNextPage(pageNumber);\n    }\n  };\n\n  // Calculate total pages based on the number of pets in the cache\n  const totalPages = Math.ceil(cachedPets.length / petsPerPage);\n\n  // Create pagination buttons\n  const paginationNumbers = Array.from({\n    length: totalPages\n  }, (_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => paginate(index + 1),\n    children: index + 1\n  }, index + 1, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this));\n\n  // Calculate the range of pets to display for the current page\n  const start = (currentPage - 1) * petsPerPage;\n  const end = start + petsPerPage;\n  const displayedPets = cachedPets.slice(start, end);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [displayedPets.map(pet =>\n    /*#__PURE__*/\n    // Render your PetCard component for each pet\n    _jsxDEV(PetCard, {\n      pet: pet\n    }, pet.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagination\",\n      children: paginationNumbers\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(AllPetsPage, \"k/1EVzulKCIH45HP6/dSPIo67n8=\");\n_c = AllPetsPage;\nexport default AllPetsPage;\nvar _c;\n$RefreshReg$(_c, \"AllPetsPage\");","map":{"version":3,"names":["React","useState","useEffect","PetCard","jsxDEV","_jsxDEV","AllPetsPage","_s","cachedPets","setCachedPets","currentPage","setCurrentPage","petsPerPage","fetchAnimalsFromApi","page","response","fetch","data","json","animals","fetchNextPage","prevCachedPets","paginate","pageNumber","length","totalPages","Math","ceil","paginationNumbers","Array","from","_","index","onClick","children","fileName","_jsxFileName","lineNumber","columnNumber","start","end","displayedPets","slice","map","pet","id","className","_c","$RefreshReg$"],"sources":["/Users/yannellym/Desktop/iwantapet/frontend/src/components/AllPetsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PetCard from './PetCard';\n\nfunction AllPetsPage() {\n  const [cachedPets, setCachedPets] = useState([]); // Initialize the cache as an empty array\n  const [currentPage, setCurrentPage] = useState(1);\n  const petsPerPage = 20;\n\n  const fetchAnimalsFromApi = async (page) => {\n    // Make an API request to fetch pets and replace this with your actual API endpoint\n    const response = await fetch(`your-api-endpoint?page=${page}`);\n    const data = await response.json();\n    return data.animals || [];\n  };\n\n  const fetchNextPage = async (page) => {\n    const data = await fetchAnimalsFromApi(page);\n\n    setCachedPets((prevCachedPets) => [...prevCachedPets, ...data]);\n  };\n\n  useEffect(() => {\n    // When the component mounts, fetch the first page\n    fetchNextPage(currentPage);\n  }, []);\n\n  const paginate = (pageNumber) => {\n    setCurrentPage(pageNumber);\n    // Check if the data for this page is already in the cache\n    if (cachedPets.length < pageNumber * petsPerPage) {\n      // If not, fetch the data and add it to the cache\n      fetchNextPage(pageNumber);\n    }\n  };\n\n  // Calculate total pages based on the number of pets in the cache\n  const totalPages = Math.ceil(cachedPets.length / petsPerPage);\n\n  // Create pagination buttons\n  const paginationNumbers = Array.from({ length: totalPages }, (_, index) => (\n    <button key={index + 1} onClick={() => paginate(index + 1)}>\n      {index + 1}\n    </button>\n  ));\n\n  // Calculate the range of pets to display for the current page\n  const start = (currentPage - 1) * petsPerPage;\n  const end = start + petsPerPage;\n  const displayedPets = cachedPets.slice(start, end);\n\n  return (\n    <div>\n      {displayedPets.map((pet) => (\n        // Render your PetCard component for each pet\n        <PetCard key={pet.id} pet={pet} />\n      ))}\n      <div className=\"pagination\">{paginationNumbers}</div>\n    </div>\n  );\n}\n\nexport default AllPetsPage;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,OAAO,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EACrB,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC,CAAC,CAAC;EAClD,MAAM,CAACS,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAMW,WAAW,GAAG,EAAE;EAEtB,MAAMC,mBAAmB,GAAG,MAAOC,IAAI,IAAK;IAC1C;IACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAE,0BAAyBF,IAAK,EAAC,CAAC;IAC9D,MAAMG,IAAI,GAAG,MAAMF,QAAQ,CAACG,IAAI,CAAC,CAAC;IAClC,OAAOD,IAAI,CAACE,OAAO,IAAI,EAAE;EAC3B,CAAC;EAED,MAAMC,aAAa,GAAG,MAAON,IAAI,IAAK;IACpC,MAAMG,IAAI,GAAG,MAAMJ,mBAAmB,CAACC,IAAI,CAAC;IAE5CL,aAAa,CAAEY,cAAc,IAAK,CAAC,GAAGA,cAAc,EAAE,GAAGJ,IAAI,CAAC,CAAC;EACjE,CAAC;EAEDf,SAAS,CAAC,MAAM;IACd;IACAkB,aAAa,CAACV,WAAW,CAAC;EAC5B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMY,QAAQ,GAAIC,UAAU,IAAK;IAC/BZ,cAAc,CAACY,UAAU,CAAC;IAC1B;IACA,IAAIf,UAAU,CAACgB,MAAM,GAAGD,UAAU,GAAGX,WAAW,EAAE;MAChD;MACAQ,aAAa,CAACG,UAAU,CAAC;IAC3B;EACF,CAAC;;EAED;EACA,MAAME,UAAU,GAAGC,IAAI,CAACC,IAAI,CAACnB,UAAU,CAACgB,MAAM,GAAGZ,WAAW,CAAC;;EAE7D;EACA,MAAMgB,iBAAiB,GAAGC,KAAK,CAACC,IAAI,CAAC;IAAEN,MAAM,EAAEC;EAAW,CAAC,EAAE,CAACM,CAAC,EAAEC,KAAK,kBACpE3B,OAAA;IAAwB4B,OAAO,EAAEA,CAAA,KAAMX,QAAQ,CAACU,KAAK,GAAG,CAAC,CAAE;IAAAE,QAAA,EACxDF,KAAK,GAAG;EAAC,GADCA,KAAK,GAAG,CAAC;IAAAG,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEd,CACT,CAAC;;EAEF;EACA,MAAMC,KAAK,GAAG,CAAC7B,WAAW,GAAG,CAAC,IAAIE,WAAW;EAC7C,MAAM4B,GAAG,GAAGD,KAAK,GAAG3B,WAAW;EAC/B,MAAM6B,aAAa,GAAGjC,UAAU,CAACkC,KAAK,CAACH,KAAK,EAAEC,GAAG,CAAC;EAElD,oBACEnC,OAAA;IAAA6B,QAAA,GACGO,aAAa,CAACE,GAAG,CAAEC,GAAG;IAAA;IACrB;IACAvC,OAAA,CAACF,OAAO;MAAcyC,GAAG,EAAEA;IAAI,GAAjBA,GAAG,CAACC,EAAE;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAa,CAClC,CAAC,eACFjC,OAAA;MAAKyC,SAAS,EAAC,YAAY;MAAAZ,QAAA,EAAEN;IAAiB;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAClD,CAAC;AAEV;AAAC/B,EAAA,CAxDQD,WAAW;AAAAyC,EAAA,GAAXzC,WAAW;AA0DpB,eAAeA,WAAW;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}