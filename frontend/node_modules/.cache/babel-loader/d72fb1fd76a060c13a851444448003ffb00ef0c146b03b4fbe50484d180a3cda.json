{"ast":null,"code":"var _jsxFileName = \"/Users/yannellym/Desktop/iwantapet/frontend/src/components/MainPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport '../styles/MainPage.css';\nimport PetCard from './PetCard';\nimport Filter from './Filter';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction MainPage({\n  favoritePets,\n  addToFavorites,\n  removeFromFavorites\n}) {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [apiCalls, setApiCalls] = useState(0);\n  const [cachedData, setCachedData] = useState([]);\n  const [searchResults, setSearchResults] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 20;\n  const totalPages = Math.ceil(cachedData.length / itemsPerPage);\n  const [selectedFilters, setSelectedFilters] = useState({\n    type: 'any',\n    breed: 'any',\n    age: 'any',\n    gender: 'any',\n    size: 'any',\n    coat: 'any'\n  });\n\n  // Function to fetch the initial 20 pets and store them in memory\n  const fetchInitialPets = async () => {\n    try {\n      const endpoint = 'http://localhost:3002/api/petfinder?perPage=20';\n      const response = await fetch(endpoint);\n      const data = await response.json();\n      console.log('API Response (Initial):', data);\n      if (data && data.animals) {\n        setCachedData(data.animals);\n        setSearchResults(data.animals);\n        setLoading(false);\n        setApiCalls(apiCalls + 1); // Increment API call counter\n      }\n    } catch (error) {\n      console.error('Error fetching data (Initial):', error.message);\n      setLoading(false);\n    }\n  };\n\n  // Function to fetch additional pets and add them to the cache\n  const fetchAdditionalPets = async () => {\n    try {\n      const endpoint = `http://localhost:3002/api/petfinder?perPage=20&page=${apiCalls + 1}`;\n      const response = await fetch(endpoint);\n      const data = await response.json();\n      console.log('API Response (Additional):', data);\n      if (data && data.animals) {\n        const updatedCachedData = [...cachedData, ...data.animals];\n        setCachedData(updatedCachedData);\n        setSearchResults(updatedCachedData);\n        setLoading(false);\n        setApiCalls(apiCalls + 1); // Increment API call counter\n      }\n    } catch (error) {\n      console.error('Error fetching data (Additional):', error.message);\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    fetchInitialPets(); // Fetch the initial 20 pets when the component mounts\n  }, []);\n  useEffect(() => {\n    if (apiCalls < 3) {\n      fetchAdditionalPets(); // Fetch additional pets after the initial load\n    }\n  }, [apiCalls]);\n  const handlePageChange = page => {\n    setCurrentPage(page);\n  };\n\n  // Rest of your code for filtering and rendering pet cards\n  // ...\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sidebar\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filters\",\n        children: /*#__PURE__*/_jsxDEV(Filter, {\n          onFilterChange: handleFilterChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination-horizontal\",\n        children: Array.from({\n          length: totalPages\n        }, (_, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handlePageChange(index + 1),\n          className: currentPage === index + 1 ? 'active' : '',\n          children: index + 1\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this);\n}\n_s(MainPage, \"Gsm2tZaG205kwGBrYrIe1H1HHgM=\");\n_c = MainPage;\nexport default MainPage;\nvar _c;\n$RefreshReg$(_c, \"MainPage\");","map":{"version":3,"names":["React","useState","useEffect","PetCard","Filter","jsxDEV","_jsxDEV","MainPage","favoritePets","addToFavorites","removeFromFavorites","_s","loading","setLoading","apiCalls","setApiCalls","cachedData","setCachedData","searchResults","setSearchResults","currentPage","setCurrentPage","itemsPerPage","totalPages","Math","ceil","length","selectedFilters","setSelectedFilters","type","breed","age","gender","size","coat","fetchInitialPets","endpoint","response","fetch","data","json","console","log","animals","error","message","fetchAdditionalPets","updatedCachedData","handlePageChange","page","className","children","onFilterChange","handleFilterChange","fileName","_jsxFileName","lineNumber","columnNumber","Array","from","_","index","onClick","_c","$RefreshReg$"],"sources":["/Users/yannellym/Desktop/iwantapet/frontend/src/components/MainPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../styles/MainPage.css';\nimport PetCard from './PetCard';\nimport Filter from './Filter';\n\nfunction MainPage({ favoritePets, addToFavorites, removeFromFavorites }) {\n  const [loading, setLoading] = useState(true);\n  const [apiCalls, setApiCalls] = useState(0);\n  const [cachedData, setCachedData] = useState([]);\n  const [searchResults, setSearchResults] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const itemsPerPage = 20;\n  const totalPages = Math.ceil(cachedData.length / itemsPerPage);\n\n  const [selectedFilters, setSelectedFilters] = useState({\n    type: 'any',\n    breed: 'any',\n    age: 'any',\n    gender: 'any',\n    size: 'any',\n    coat: 'any',\n  });\n\n  // Function to fetch the initial 20 pets and store them in memory\n  const fetchInitialPets = async () => {\n    try {\n      const endpoint = 'http://localhost:3002/api/petfinder?perPage=20';\n      const response = await fetch(endpoint);\n      const data = await response.json();\n\n      console.log('API Response (Initial):', data);\n      if (data && data.animals) {\n        setCachedData(data.animals);\n        setSearchResults(data.animals);\n        setLoading(false);\n        setApiCalls(apiCalls + 1); // Increment API call counter\n      }\n    } catch (error) {\n      console.error('Error fetching data (Initial):', error.message);\n      setLoading(false);\n    }\n  };\n\n  // Function to fetch additional pets and add them to the cache\n  const fetchAdditionalPets = async () => {\n    try {\n      const endpoint = `http://localhost:3002/api/petfinder?perPage=20&page=${apiCalls + 1}`;\n      const response = await fetch(endpoint);\n      const data = await response.json();\n\n      console.log('API Response (Additional):', data);\n      if (data && data.animals) {\n        const updatedCachedData = [...cachedData, ...data.animals];\n        setCachedData(updatedCachedData);\n        setSearchResults(updatedCachedData);\n        setLoading(false);\n        setApiCalls(apiCalls + 1); // Increment API call counter\n      }\n    } catch (error) {\n      console.error('Error fetching data (Additional):', error.message);\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchInitialPets(); // Fetch the initial 20 pets when the component mounts\n  }, []);\n\n  useEffect(() => {\n    if (apiCalls < 3) {\n      fetchAdditionalPets(); // Fetch additional pets after the initial load\n    }\n  }, [apiCalls]);\n\n  const handlePageChange = (page) => {\n    setCurrentPage(page);\n  };\n\n  // Rest of your code for filtering and rendering pet cards\n  // ...\n\n  return (\n    <div className=\"main-page\">\n      <div className=\"sidebar\">\n        <div className=\"filters\">\n          {/* Pass the handleFilterChange function to the Filter component */}\n          <Filter onFilterChange={handleFilterChange} />\n        </div>\n      </div>\n      <div className=\"content\">\n        {/* Render pet cards based on filtered search results */}\n        {/* Pagination buttons */}\n        <div className=\"pagination-horizontal\">\n          {Array.from({ length: totalPages }, (_, index) => (\n            <button\n              key={index}\n              onClick={() => handlePageChange(index + 1)}\n              className={currentPage === index + 1 ? 'active' : ''}\n            >\n              {index + 1}\n            </button>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default MainPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}