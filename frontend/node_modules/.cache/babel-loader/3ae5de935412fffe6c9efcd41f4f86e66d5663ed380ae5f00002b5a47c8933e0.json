{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { getHashedDataAsHex } from './dataHashHelpers';\nimport { getCanonicalRequest } from './getCanonicalRequest';\nimport { getSigningKey } from './getSigningKey';\nimport { getStringToSign } from './getStringToSign';\n/**\n * Calculates and returns an AWS API Signature.\n * https://docs.aws.amazon.com/IAM/latest/UserGuide/create-signed-request.html\n *\n * @param request `HttpRequest` to be signed.\n * @param signRequestOptions `SignRequestOptions` object containing values used to construct the signature.\n * @returns AWS API Signature to sign a request or url with.\n *\n * @internal\n */\nexport var getSignature = function (request, _a) {\n  var credentialScope = _a.credentialScope,\n    longDate = _a.longDate,\n    secretAccessKey = _a.secretAccessKey,\n    shortDate = _a.shortDate,\n    signingRegion = _a.signingRegion,\n    signingService = _a.signingService,\n    uriEscapePath = _a.uriEscapePath;\n  // step 1: create a canonical request\n  var canonicalRequest = getCanonicalRequest(request, uriEscapePath);\n  // step 2: create a hash of the canonical request\n  var hashedRequest = getHashedDataAsHex(null, canonicalRequest);\n  // step 3: create a string to sign\n  var stringToSign = getStringToSign(longDate, credentialScope, hashedRequest);\n  // step 4: calculate the signature\n  var signature = getHashedDataAsHex(getSigningKey(secretAccessKey, shortDate, signingRegion, signingService), stringToSign);\n  return signature;\n};","map":{"version":3,"names":["getHashedDataAsHex","getCanonicalRequest","getSigningKey","getStringToSign","getSignature","request","_a","credentialScope","longDate","secretAccessKey","shortDate","signingRegion","signingService","uriEscapePath","canonicalRequest","hashedRequest","stringToSign","signature"],"sources":["/Users/yannellym/Desktop/iwantapet/node_modules/@aws-amplify/core/lib-esm/clients/middleware/signing/signer/signatureV4/utils/getSignature.js"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { getHashedDataAsHex } from './dataHashHelpers';\nimport { getCanonicalRequest } from './getCanonicalRequest';\nimport { getSigningKey } from './getSigningKey';\nimport { getStringToSign } from './getStringToSign';\n/**\n * Calculates and returns an AWS API Signature.\n * https://docs.aws.amazon.com/IAM/latest/UserGuide/create-signed-request.html\n *\n * @param request `HttpRequest` to be signed.\n * @param signRequestOptions `SignRequestOptions` object containing values used to construct the signature.\n * @returns AWS API Signature to sign a request or url with.\n *\n * @internal\n */\nexport var getSignature = function (request, _a) {\n    var credentialScope = _a.credentialScope, longDate = _a.longDate, secretAccessKey = _a.secretAccessKey, shortDate = _a.shortDate, signingRegion = _a.signingRegion, signingService = _a.signingService, uriEscapePath = _a.uriEscapePath;\n    // step 1: create a canonical request\n    var canonicalRequest = getCanonicalRequest(request, uriEscapePath);\n    // step 2: create a hash of the canonical request\n    var hashedRequest = getHashedDataAsHex(null, canonicalRequest);\n    // step 3: create a string to sign\n    var stringToSign = getStringToSign(longDate, credentialScope, hashedRequest);\n    // step 4: calculate the signature\n    var signature = getHashedDataAsHex(getSigningKey(secretAccessKey, shortDate, signingRegion, signingService), stringToSign);\n    return signature;\n};\n"],"mappings":"AAAA;AACA;AACA,SAASA,kBAAkB,QAAQ,mBAAmB;AACtD,SAASC,mBAAmB,QAAQ,uBAAuB;AAC3D,SAASC,aAAa,QAAQ,iBAAiB;AAC/C,SAASC,eAAe,QAAQ,mBAAmB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAIC,YAAY,GAAG,SAAAA,CAAUC,OAAO,EAAEC,EAAE,EAAE;EAC7C,IAAIC,eAAe,GAAGD,EAAE,CAACC,eAAe;IAAEC,QAAQ,GAAGF,EAAE,CAACE,QAAQ;IAAEC,eAAe,GAAGH,EAAE,CAACG,eAAe;IAAEC,SAAS,GAAGJ,EAAE,CAACI,SAAS;IAAEC,aAAa,GAAGL,EAAE,CAACK,aAAa;IAAEC,cAAc,GAAGN,EAAE,CAACM,cAAc;IAAEC,aAAa,GAAGP,EAAE,CAACO,aAAa;EACxO;EACA,IAAIC,gBAAgB,GAAGb,mBAAmB,CAACI,OAAO,EAAEQ,aAAa,CAAC;EAClE;EACA,IAAIE,aAAa,GAAGf,kBAAkB,CAAC,IAAI,EAAEc,gBAAgB,CAAC;EAC9D;EACA,IAAIE,YAAY,GAAGb,eAAe,CAACK,QAAQ,EAAED,eAAe,EAAEQ,aAAa,CAAC;EAC5E;EACA,IAAIE,SAAS,GAAGjB,kBAAkB,CAACE,aAAa,CAACO,eAAe,EAAEC,SAAS,EAAEC,aAAa,EAAEC,cAAc,CAAC,EAAEI,YAAY,CAAC;EAC1H,OAAOC,SAAS;AACpB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}