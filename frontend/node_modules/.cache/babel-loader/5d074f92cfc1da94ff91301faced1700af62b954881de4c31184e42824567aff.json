{"ast":null,"code":"import { __awaiter, __generator, __values } from \"tslib\";\nimport { isArrayBuffer } from \"@aws-sdk/is-array-buffer\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { SHA256_HEADER, UNSIGNED_PAYLOAD } from \"./constants\";\nexport var getPayloadHash = function (_a, hashConstructor) {\n  var headers = _a.headers,\n    body = _a.body;\n  return __awaiter(void 0, void 0, void 0, function () {\n    var _b, _c, headerName, hashCtor, _d;\n    var e_1, _e;\n    return __generator(this, function (_f) {\n      switch (_f.label) {\n        case 0:\n          try {\n            for (_b = __values(Object.keys(headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n              headerName = _c.value;\n              if (headerName.toLowerCase() === SHA256_HEADER) {\n                return [2, headers[headerName]];\n              }\n            }\n          } catch (e_1_1) {\n            e_1 = {\n              error: e_1_1\n            };\n          } finally {\n            try {\n              if (_c && !_c.done && (_e = _b.return)) _e.call(_b);\n            } finally {\n              if (e_1) throw e_1.error;\n            }\n          }\n          if (!(body == undefined)) return [3, 1];\n          return [2, \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"];\n        case 1:\n          if (!(typeof body === \"string\" || ArrayBuffer.isView(body) || isArrayBuffer(body))) return [3, 3];\n          hashCtor = new hashConstructor();\n          hashCtor.update(body);\n          _d = toHex;\n          return [4, hashCtor.digest()];\n        case 2:\n          return [2, _d.apply(void 0, [_f.sent()])];\n        case 3:\n          return [2, UNSIGNED_PAYLOAD];\n      }\n    });\n  });\n};","map":{"version":3,"names":["__awaiter","__generator","__values","isArrayBuffer","toHex","SHA256_HEADER","UNSIGNED_PAYLOAD","getPayloadHash","_a","hashConstructor","headers","body","_b","_c","headerName","hashCtor","_d","e_1","_e","_f","label","Object","keys","next","done","value","toLowerCase","e_1_1","error","return","call","undefined","ArrayBuffer","isView","update","digest","apply","sent"],"sources":["/Users/yannellym/Desktop/iwantapet/node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/signature-v4/dist-es/getPayloadHash.js"],"sourcesContent":["import { __awaiter, __generator, __values } from \"tslib\";\nimport { isArrayBuffer } from \"@aws-sdk/is-array-buffer\";\nimport { toHex } from \"@aws-sdk/util-hex-encoding\";\nimport { SHA256_HEADER, UNSIGNED_PAYLOAD } from \"./constants\";\nexport var getPayloadHash = function (_a, hashConstructor) {\n    var headers = _a.headers, body = _a.body;\n    return __awaiter(void 0, void 0, void 0, function () {\n        var _b, _c, headerName, hashCtor, _d;\n        var e_1, _e;\n        return __generator(this, function (_f) {\n            switch (_f.label) {\n                case 0:\n                    try {\n                        for (_b = __values(Object.keys(headers)), _c = _b.next(); !_c.done; _c = _b.next()) {\n                            headerName = _c.value;\n                            if (headerName.toLowerCase() === SHA256_HEADER) {\n                                return [2, headers[headerName]];\n                            }\n                        }\n                    }\n                    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                    finally {\n                        try {\n                            if (_c && !_c.done && (_e = _b.return)) _e.call(_b);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                    }\n                    if (!(body == undefined)) return [3, 1];\n                    return [2, \"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855\"];\n                case 1:\n                    if (!(typeof body === \"string\" || ArrayBuffer.isView(body) || isArrayBuffer(body))) return [3, 3];\n                    hashCtor = new hashConstructor();\n                    hashCtor.update(body);\n                    _d = toHex;\n                    return [4, hashCtor.digest()];\n                case 2: return [2, _d.apply(void 0, [_f.sent()])];\n                case 3: return [2, UNSIGNED_PAYLOAD];\n            }\n        });\n    });\n};\n"],"mappings":"AAAA,SAASA,SAAS,EAAEC,WAAW,EAAEC,QAAQ,QAAQ,OAAO;AACxD,SAASC,aAAa,QAAQ,0BAA0B;AACxD,SAASC,KAAK,QAAQ,4BAA4B;AAClD,SAASC,aAAa,EAAEC,gBAAgB,QAAQ,aAAa;AAC7D,OAAO,IAAIC,cAAc,GAAG,SAAAA,CAAUC,EAAE,EAAEC,eAAe,EAAE;EACvD,IAAIC,OAAO,GAAGF,EAAE,CAACE,OAAO;IAAEC,IAAI,GAAGH,EAAE,CAACG,IAAI;EACxC,OAAOX,SAAS,CAAC,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,KAAK,CAAC,EAAE,YAAY;IACjD,IAAIY,EAAE,EAAEC,EAAE,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,EAAE;IACpC,IAAIC,GAAG,EAAEC,EAAE;IACX,OAAOjB,WAAW,CAAC,IAAI,EAAE,UAAUkB,EAAE,EAAE;MACnC,QAAQA,EAAE,CAACC,KAAK;QACZ,KAAK,CAAC;UACF,IAAI;YACA,KAAKR,EAAE,GAAGV,QAAQ,CAACmB,MAAM,CAACC,IAAI,CAACZ,OAAO,CAAC,CAAC,EAAEG,EAAE,GAAGD,EAAE,CAACW,IAAI,CAAC,CAAC,EAAE,CAACV,EAAE,CAACW,IAAI,EAAEX,EAAE,GAAGD,EAAE,CAACW,IAAI,CAAC,CAAC,EAAE;cAChFT,UAAU,GAAGD,EAAE,CAACY,KAAK;cACrB,IAAIX,UAAU,CAACY,WAAW,CAAC,CAAC,KAAKrB,aAAa,EAAE;gBAC5C,OAAO,CAAC,CAAC,EAAEK,OAAO,CAACI,UAAU,CAAC,CAAC;cACnC;YACJ;UACJ,CAAC,CACD,OAAOa,KAAK,EAAE;YAAEV,GAAG,GAAG;cAAEW,KAAK,EAAED;YAAM,CAAC;UAAE,CAAC,SACjC;YACJ,IAAI;cACA,IAAId,EAAE,IAAI,CAACA,EAAE,CAACW,IAAI,KAAKN,EAAE,GAAGN,EAAE,CAACiB,MAAM,CAAC,EAAEX,EAAE,CAACY,IAAI,CAAClB,EAAE,CAAC;YACvD,CAAC,SACO;cAAE,IAAIK,GAAG,EAAE,MAAMA,GAAG,CAACW,KAAK;YAAE;UACxC;UACA,IAAI,EAAEjB,IAAI,IAAIoB,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;UACvC,OAAO,CAAC,CAAC,EAAE,kEAAkE,CAAC;QAClF,KAAK,CAAC;UACF,IAAI,EAAE,OAAOpB,IAAI,KAAK,QAAQ,IAAIqB,WAAW,CAACC,MAAM,CAACtB,IAAI,CAAC,IAAIR,aAAa,CAACQ,IAAI,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;UACjGI,QAAQ,GAAG,IAAIN,eAAe,CAAC,CAAC;UAChCM,QAAQ,CAACmB,MAAM,CAACvB,IAAI,CAAC;UACrBK,EAAE,GAAGZ,KAAK;UACV,OAAO,CAAC,CAAC,EAAEW,QAAQ,CAACoB,MAAM,CAAC,CAAC,CAAC;QACjC,KAAK,CAAC;UAAE,OAAO,CAAC,CAAC,EAAEnB,EAAE,CAACoB,KAAK,CAAC,KAAK,CAAC,EAAE,CAACjB,EAAE,CAACkB,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;QACjD,KAAK,CAAC;UAAE,OAAO,CAAC,CAAC,EAAE/B,gBAAgB,CAAC;MACxC;IACJ,CAAC,CAAC;EACN,CAAC,CAAC;AACN,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}