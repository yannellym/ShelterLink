{"ast":null,"code":"// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { ConsoleLogger as Logger } from './Logger';\nvar logger = new Logger('Hub');\nvar AMPLIFY_SYMBOL = typeof Symbol !== 'undefined' && typeof Symbol.for === 'function' ? Symbol.for('amplify_default') : '@@amplify_default';\nfunction isLegacyCallback(callback) {\n  return callback.onHubCapsule !== undefined;\n}\nvar HubClass = /** @class */function () {\n  function HubClass(name) {\n    this.listeners = [];\n    this.patterns = [];\n    this.protectedChannels = ['core', 'auth', 'api', 'analytics', 'interactions', 'pubsub', 'storage', 'ui', 'xr'];\n    this.name = name;\n  }\n  /**\n   * Used internally to remove a Hub listener.\n   *\n   * @remarks\n   * This private method is for internal use only. Instead of calling Hub.remove, call the result of Hub.listen.\n   */\n  HubClass.prototype._remove = function (channel, listener) {\n    if (channel instanceof RegExp) {\n      var pattern_1 = this.patterns.find(function (_a) {\n        var pattern = _a.pattern;\n        return pattern.source === channel.source;\n      });\n      if (!pattern_1) {\n        logger.warn(\"No listeners for \".concat(channel));\n        return;\n      }\n      this.patterns = __spreadArray([], __read(this.patterns.filter(function (x) {\n        return x !== pattern_1;\n      })), false);\n    } else {\n      var holder = this.listeners[channel];\n      if (!holder) {\n        logger.warn(\"No listeners for \".concat(channel));\n        return;\n      }\n      this.listeners[channel] = __spreadArray([], __read(holder.filter(function (_a) {\n        var callback = _a.callback;\n        return callback !== listener;\n      })), false);\n    }\n  };\n  /**\n   * @deprecated Instead of calling Hub.remove, call the result of Hub.listen.\n   */\n  HubClass.prototype.remove = function (channel, listener) {\n    this._remove(channel, listener);\n  };\n  /**\n   * Used to send a Hub event.\n   *\n   * @param channel - The channel on which the event will be broadcast\n   * @param payload - The HubPayload\n   * @param source  - The source of the event; defaults to ''\n   * @param ampSymbol - Symbol used to determine if the event is dispatched internally on a protected channel\n   *\n   */\n  HubClass.prototype.dispatch = function (channel, payload, source, ampSymbol) {\n    if (source === void 0) {\n      source = '';\n    }\n    if (this.protectedChannels.indexOf(channel) > -1) {\n      var hasAccess = ampSymbol === AMPLIFY_SYMBOL;\n      if (!hasAccess) {\n        logger.warn(\"WARNING: \".concat(channel, \" is protected and dispatching on it can have unintended consequences\"));\n      }\n    }\n    var capsule = {\n      channel: channel,\n      payload: __assign({}, payload),\n      source: source,\n      patternInfo: []\n    };\n    try {\n      this._toListeners(capsule);\n    } catch (e) {\n      logger.error(e);\n    }\n  };\n  /**\n   * Used to listen for Hub events.\n   *\n   * @param channel - The channel on which to listen\n   * @param callback - The callback to execute when an event is received on the specified channel\n   * @param listenerName - The name of the listener; defaults to 'noname'\n   * @returns A function which can be called to cancel the listener.\n   *\n   */\n  HubClass.prototype.listen = function (channel, callback, listenerName) {\n    var _this = this;\n    if (listenerName === void 0) {\n      listenerName = 'noname';\n    }\n    var cb;\n    // Check for legacy onHubCapsule callback for backwards compatability\n    if (isLegacyCallback(callback)) {\n      logger.warn(\"WARNING onHubCapsule is Deprecated. Please pass in a callback.\");\n      cb = callback.onHubCapsule.bind(callback);\n    } else if (typeof callback !== 'function') {\n      throw new Error('No callback supplied to Hub');\n    } else {\n      cb = callback;\n    }\n    if (channel instanceof RegExp) {\n      this.patterns.push({\n        pattern: channel,\n        callback: cb\n      });\n    } else {\n      var holder = this.listeners[channel];\n      if (!holder) {\n        holder = [];\n        this.listeners[channel] = holder;\n      }\n      holder.push({\n        name: listenerName,\n        callback: cb\n      });\n    }\n    return function () {\n      _this._remove(channel, cb);\n    };\n  };\n  HubClass.prototype._toListeners = function (capsule) {\n    var channel = capsule.channel,\n      payload = capsule.payload;\n    var holder = this.listeners[channel];\n    if (holder) {\n      holder.forEach(function (listener) {\n        logger.debug(\"Dispatching to \".concat(channel, \" with \"), payload);\n        try {\n          listener.callback(capsule);\n        } catch (e) {\n          logger.error(e);\n        }\n      });\n    }\n    if (this.patterns.length > 0) {\n      if (!payload.message) {\n        logger.warn(\"Cannot perform pattern matching without a message key\");\n        return;\n      }\n      var payloadStr_1 = payload.message;\n      this.patterns.forEach(function (pattern) {\n        var match = payloadStr_1.match(pattern.pattern);\n        if (match) {\n          var _a = __read(match),\n            groups = _a.slice(1);\n          var dispatchingCapsule = __assign(__assign({}, capsule), {\n            patternInfo: groups\n          });\n          try {\n            pattern.callback(dispatchingCapsule);\n          } catch (e) {\n            logger.error(e);\n          }\n        }\n      });\n    }\n  };\n  return HubClass;\n}();\nexport { HubClass };\n/*We export a __default__ instance of HubClass to use it as a\npseudo Singleton for the main messaging bus, however you can still create\nyour own instance of HubClass() for a separate \"private bus\" of events.*/\nexport var Hub = new HubClass('__default__');","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__read","o","m","Symbol","iterator","r","ar","e","next","done","push","value","error","__spreadArray","to","from","pack","l","Array","slice","concat","ConsoleLogger","Logger","logger","AMPLIFY_SYMBOL","for","isLegacyCallback","callback","onHubCapsule","undefined","HubClass","name","listeners","patterns","protectedChannels","_remove","channel","listener","RegExp","pattern_1","find","_a","pattern","source","warn","filter","x","holder","remove","dispatch","payload","ampSymbol","indexOf","hasAccess","capsule","patternInfo","_toListeners","listen","listenerName","_this","cb","bind","Error","forEach","debug","message","payloadStr_1","match","groups","dispatchingCapsule","Hub"],"sources":["/Users/yannellym/Desktop/iwantapet/node_modules/@aws-amplify/core/lib-esm/Hub.js"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport { ConsoleLogger as Logger } from './Logger';\nvar logger = new Logger('Hub');\nvar AMPLIFY_SYMBOL = (typeof Symbol !== 'undefined' && typeof Symbol.for === 'function'\n    ? Symbol.for('amplify_default')\n    : '@@amplify_default');\nfunction isLegacyCallback(callback) {\n    return callback.onHubCapsule !== undefined;\n}\nvar HubClass = /** @class */ (function () {\n    function HubClass(name) {\n        this.listeners = [];\n        this.patterns = [];\n        this.protectedChannels = [\n            'core',\n            'auth',\n            'api',\n            'analytics',\n            'interactions',\n            'pubsub',\n            'storage',\n            'ui',\n            'xr',\n        ];\n        this.name = name;\n    }\n    /**\n     * Used internally to remove a Hub listener.\n     *\n     * @remarks\n     * This private method is for internal use only. Instead of calling Hub.remove, call the result of Hub.listen.\n     */\n    HubClass.prototype._remove = function (channel, listener) {\n        if (channel instanceof RegExp) {\n            var pattern_1 = this.patterns.find(function (_a) {\n                var pattern = _a.pattern;\n                return pattern.source === channel.source;\n            });\n            if (!pattern_1) {\n                logger.warn(\"No listeners for \".concat(channel));\n                return;\n            }\n            this.patterns = __spreadArray([], __read(this.patterns.filter(function (x) { return x !== pattern_1; })), false);\n        }\n        else {\n            var holder = this.listeners[channel];\n            if (!holder) {\n                logger.warn(\"No listeners for \".concat(channel));\n                return;\n            }\n            this.listeners[channel] = __spreadArray([], __read(holder.filter(function (_a) {\n                var callback = _a.callback;\n                return callback !== listener;\n            })), false);\n        }\n    };\n    /**\n     * @deprecated Instead of calling Hub.remove, call the result of Hub.listen.\n     */\n    HubClass.prototype.remove = function (channel, listener) {\n        this._remove(channel, listener);\n    };\n    /**\n     * Used to send a Hub event.\n     *\n     * @param channel - The channel on which the event will be broadcast\n     * @param payload - The HubPayload\n     * @param source  - The source of the event; defaults to ''\n     * @param ampSymbol - Symbol used to determine if the event is dispatched internally on a protected channel\n     *\n     */\n    HubClass.prototype.dispatch = function (channel, payload, source, ampSymbol) {\n        if (source === void 0) { source = ''; }\n        if (this.protectedChannels.indexOf(channel) > -1) {\n            var hasAccess = ampSymbol === AMPLIFY_SYMBOL;\n            if (!hasAccess) {\n                logger.warn(\"WARNING: \".concat(channel, \" is protected and dispatching on it can have unintended consequences\"));\n            }\n        }\n        var capsule = {\n            channel: channel,\n            payload: __assign({}, payload),\n            source: source,\n            patternInfo: [],\n        };\n        try {\n            this._toListeners(capsule);\n        }\n        catch (e) {\n            logger.error(e);\n        }\n    };\n    /**\n     * Used to listen for Hub events.\n     *\n     * @param channel - The channel on which to listen\n     * @param callback - The callback to execute when an event is received on the specified channel\n     * @param listenerName - The name of the listener; defaults to 'noname'\n     * @returns A function which can be called to cancel the listener.\n     *\n     */\n    HubClass.prototype.listen = function (channel, callback, listenerName) {\n        var _this = this;\n        if (listenerName === void 0) { listenerName = 'noname'; }\n        var cb;\n        // Check for legacy onHubCapsule callback for backwards compatability\n        if (isLegacyCallback(callback)) {\n            logger.warn(\"WARNING onHubCapsule is Deprecated. Please pass in a callback.\");\n            cb = callback.onHubCapsule.bind(callback);\n        }\n        else if (typeof callback !== 'function') {\n            throw new Error('No callback supplied to Hub');\n        }\n        else {\n            cb = callback;\n        }\n        if (channel instanceof RegExp) {\n            this.patterns.push({\n                pattern: channel,\n                callback: cb,\n            });\n        }\n        else {\n            var holder = this.listeners[channel];\n            if (!holder) {\n                holder = [];\n                this.listeners[channel] = holder;\n            }\n            holder.push({\n                name: listenerName,\n                callback: cb,\n            });\n        }\n        return function () {\n            _this._remove(channel, cb);\n        };\n    };\n    HubClass.prototype._toListeners = function (capsule) {\n        var channel = capsule.channel, payload = capsule.payload;\n        var holder = this.listeners[channel];\n        if (holder) {\n            holder.forEach(function (listener) {\n                logger.debug(\"Dispatching to \".concat(channel, \" with \"), payload);\n                try {\n                    listener.callback(capsule);\n                }\n                catch (e) {\n                    logger.error(e);\n                }\n            });\n        }\n        if (this.patterns.length > 0) {\n            if (!payload.message) {\n                logger.warn(\"Cannot perform pattern matching without a message key\");\n                return;\n            }\n            var payloadStr_1 = payload.message;\n            this.patterns.forEach(function (pattern) {\n                var match = payloadStr_1.match(pattern.pattern);\n                if (match) {\n                    var _a = __read(match), groups = _a.slice(1);\n                    var dispatchingCapsule = __assign(__assign({}, capsule), { patternInfo: groups });\n                    try {\n                        pattern.callback(dispatchingCapsule);\n                    }\n                    catch (e) {\n                        logger.error(e);\n                    }\n                }\n            });\n        }\n    };\n    return HubClass;\n}());\nexport { HubClass };\n/*We export a __default__ instance of HubClass to use it as a\npseudo Singleton for the main messaging bus, however you can still create\nyour own instance of HubClass() for a separate \"private bus\" of events.*/\nexport var Hub = new HubClass('__default__');\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}