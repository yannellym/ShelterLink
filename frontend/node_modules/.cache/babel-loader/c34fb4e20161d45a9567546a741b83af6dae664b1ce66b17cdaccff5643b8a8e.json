{"ast":null,"code":"import { __assign, __awaiter, __generator, __read, __spreadArray } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nimport { SPACE, UA_ESCAPE_REGEX, USER_AGENT, X_AMZ_USER_AGENT } from \"./constants\";\nexport var userAgentMiddleware = function (options) {\n  return function (next, context) {\n    return function (args) {\n      return __awaiter(void 0, void 0, void 0, function () {\n        var request, headers, userAgent, defaultUserAgent, customUserAgent, sdkUserAgentValue, normalUAValue;\n        var _a, _b;\n        return __generator(this, function (_c) {\n          switch (_c.label) {\n            case 0:\n              request = args.request;\n              if (!HttpRequest.isInstance(request)) return [2, next(args)];\n              headers = request.headers;\n              userAgent = ((_a = context === null || context === void 0 ? void 0 : context.userAgent) === null || _a === void 0 ? void 0 : _a.map(escapeUserAgent)) || [];\n              return [4, options.defaultUserAgentProvider()];\n            case 1:\n              defaultUserAgent = _c.sent().map(escapeUserAgent);\n              customUserAgent = ((_b = options === null || options === void 0 ? void 0 : options.customUserAgent) === null || _b === void 0 ? void 0 : _b.map(escapeUserAgent)) || [];\n              sdkUserAgentValue = __spreadArray(__spreadArray(__spreadArray([], __read(defaultUserAgent), false), __read(userAgent), false), __read(customUserAgent), false).join(SPACE);\n              normalUAValue = __spreadArray(__spreadArray([], __read(defaultUserAgent.filter(function (section) {\n                return section.startsWith(\"aws-sdk-\");\n              })), false), __read(customUserAgent), false).join(SPACE);\n              if (options.runtime !== \"browser\") {\n                if (normalUAValue) {\n                  headers[X_AMZ_USER_AGENT] = headers[X_AMZ_USER_AGENT] ? \"\".concat(headers[USER_AGENT], \" \").concat(normalUAValue) : normalUAValue;\n                }\n                headers[USER_AGENT] = sdkUserAgentValue;\n              } else {\n                headers[X_AMZ_USER_AGENT] = sdkUserAgentValue;\n              }\n              return [2, next(__assign(__assign({}, args), {\n                request: request\n              }))];\n          }\n        });\n      });\n    };\n  };\n};\nvar escapeUserAgent = function (_a) {\n  var _b = __read(_a, 2),\n    name = _b[0],\n    version = _b[1];\n  var prefixSeparatorIndex = name.indexOf(\"/\");\n  var prefix = name.substring(0, prefixSeparatorIndex);\n  var uaName = name.substring(prefixSeparatorIndex + 1);\n  if (prefix === \"api\") {\n    uaName = uaName.toLowerCase();\n  }\n  return [prefix, uaName, version].filter(function (item) {\n    return item && item.length > 0;\n  }).map(function (item) {\n    return item === null || item === void 0 ? void 0 : item.replace(UA_ESCAPE_REGEX, \"_\");\n  }).join(\"/\");\n};\nexport var getUserAgentMiddlewareOptions = {\n  name: \"getUserAgentMiddleware\",\n  step: \"build\",\n  priority: \"low\",\n  tags: [\"SET_USER_AGENT\", \"USER_AGENT\"],\n  override: true\n};\nexport var getUserAgentPlugin = function (config) {\n  return {\n    applyToStack: function (clientStack) {\n      clientStack.add(userAgentMiddleware(config), getUserAgentMiddlewareOptions);\n    }\n  };\n};","map":{"version":3,"names":["__assign","__awaiter","__generator","__read","__spreadArray","HttpRequest","SPACE","UA_ESCAPE_REGEX","USER_AGENT","X_AMZ_USER_AGENT","userAgentMiddleware","options","next","context","args","request","headers","userAgent","defaultUserAgent","customUserAgent","sdkUserAgentValue","normalUAValue","_a","_b","_c","label","isInstance","map","escapeUserAgent","defaultUserAgentProvider","sent","join","filter","section","startsWith","runtime","concat","name","version","prefixSeparatorIndex","indexOf","prefix","substring","uaName","toLowerCase","item","length","replace","getUserAgentMiddlewareOptions","step","priority","tags","override","getUserAgentPlugin","config","applyToStack","clientStack","add"],"sources":["/Users/yannellym/Desktop/iwantapet/node_modules/@aws-sdk/client-location/node_modules/@aws-sdk/middleware-user-agent/dist-es/user-agent-middleware.js"],"sourcesContent":["import { __assign, __awaiter, __generator, __read, __spreadArray } from \"tslib\";\nimport { HttpRequest } from \"@aws-sdk/protocol-http\";\nimport { SPACE, UA_ESCAPE_REGEX, USER_AGENT, X_AMZ_USER_AGENT } from \"./constants\";\nexport var userAgentMiddleware = function (options) {\n    return function (next, context) {\n        return function (args) { return __awaiter(void 0, void 0, void 0, function () {\n            var request, headers, userAgent, defaultUserAgent, customUserAgent, sdkUserAgentValue, normalUAValue;\n            var _a, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        request = args.request;\n                        if (!HttpRequest.isInstance(request))\n                            return [2, next(args)];\n                        headers = request.headers;\n                        userAgent = ((_a = context === null || context === void 0 ? void 0 : context.userAgent) === null || _a === void 0 ? void 0 : _a.map(escapeUserAgent)) || [];\n                        return [4, options.defaultUserAgentProvider()];\n                    case 1:\n                        defaultUserAgent = (_c.sent()).map(escapeUserAgent);\n                        customUserAgent = ((_b = options === null || options === void 0 ? void 0 : options.customUserAgent) === null || _b === void 0 ? void 0 : _b.map(escapeUserAgent)) || [];\n                        sdkUserAgentValue = __spreadArray(__spreadArray(__spreadArray([], __read(defaultUserAgent), false), __read(userAgent), false), __read(customUserAgent), false).join(SPACE);\n                        normalUAValue = __spreadArray(__spreadArray([], __read(defaultUserAgent.filter(function (section) { return section.startsWith(\"aws-sdk-\"); })), false), __read(customUserAgent), false).join(SPACE);\n                        if (options.runtime !== \"browser\") {\n                            if (normalUAValue) {\n                                headers[X_AMZ_USER_AGENT] = headers[X_AMZ_USER_AGENT]\n                                    ? \"\".concat(headers[USER_AGENT], \" \").concat(normalUAValue)\n                                    : normalUAValue;\n                            }\n                            headers[USER_AGENT] = sdkUserAgentValue;\n                        }\n                        else {\n                            headers[X_AMZ_USER_AGENT] = sdkUserAgentValue;\n                        }\n                        return [2, next(__assign(__assign({}, args), { request: request }))];\n                }\n            });\n        }); };\n    };\n};\nvar escapeUserAgent = function (_a) {\n    var _b = __read(_a, 2), name = _b[0], version = _b[1];\n    var prefixSeparatorIndex = name.indexOf(\"/\");\n    var prefix = name.substring(0, prefixSeparatorIndex);\n    var uaName = name.substring(prefixSeparatorIndex + 1);\n    if (prefix === \"api\") {\n        uaName = uaName.toLowerCase();\n    }\n    return [prefix, uaName, version]\n        .filter(function (item) { return item && item.length > 0; })\n        .map(function (item) { return item === null || item === void 0 ? void 0 : item.replace(UA_ESCAPE_REGEX, \"_\"); })\n        .join(\"/\");\n};\nexport var getUserAgentMiddlewareOptions = {\n    name: \"getUserAgentMiddleware\",\n    step: \"build\",\n    priority: \"low\",\n    tags: [\"SET_USER_AGENT\", \"USER_AGENT\"],\n    override: true,\n};\nexport var getUserAgentPlugin = function (config) { return ({\n    applyToStack: function (clientStack) {\n        clientStack.add(userAgentMiddleware(config), getUserAgentMiddlewareOptions);\n    },\n}); };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}