{"ast":null,"code":"'use strict';\n\nconst isObject = value => typeof value === 'object' && value !== null;\nconst mapObjectSkip = Symbol('skip');\n\n// Customized for this use-case\nconst isObjectCustom = value => isObject(value) && !(value instanceof RegExp) && !(value instanceof Error) && !(value instanceof Date);\nconst mapObject = (object, mapper, options, isSeen = new WeakMap()) => {\n  options = {\n    deep: false,\n    target: {},\n    ...options\n  };\n  if (isSeen.has(object)) {\n    return isSeen.get(object);\n  }\n  isSeen.set(object, options.target);\n  const {\n    target\n  } = options;\n  delete options.target;\n  const mapArray = array => array.map(element => isObjectCustom(element) ? mapObject(element, mapper, options, isSeen) : element);\n  if (Array.isArray(object)) {\n    return mapArray(object);\n  }\n  for (const [key, value] of Object.entries(object)) {\n    const mapResult = mapper(key, value, object);\n    if (mapResult === mapObjectSkip) {\n      continue;\n    }\n    let [newKey, newValue, {\n      shouldRecurse = true\n    } = {}] = mapResult;\n\n    // Drop `__proto__` keys.\n    if (newKey === '__proto__') {\n      continue;\n    }\n    if (options.deep && shouldRecurse && isObjectCustom(newValue)) {\n      newValue = Array.isArray(newValue) ? mapArray(newValue) : mapObject(newValue, mapper, options, isSeen);\n    }\n    target[newKey] = newValue;\n  }\n  return target;\n};\nmodule.exports = (object, mapper, options) => {\n  if (!isObject(object)) {\n    throw new TypeError(`Expected an object, got \\`${object}\\` (${typeof object})`);\n  }\n  return mapObject(object, mapper, options);\n};\nmodule.exports.mapObjectSkip = mapObjectSkip;","map":{"version":3,"names":["isObject","value","mapObjectSkip","Symbol","isObjectCustom","RegExp","Error","Date","mapObject","object","mapper","options","isSeen","WeakMap","deep","target","has","get","set","mapArray","array","map","element","Array","isArray","key","Object","entries","mapResult","newKey","newValue","shouldRecurse","module","exports","TypeError"],"sources":["/Users/yannellym/Desktop/iwantapet/node_modules/map-obj/index.js"],"sourcesContent":["'use strict';\n\nconst isObject = value => typeof value === 'object' && value !== null;\nconst mapObjectSkip = Symbol('skip');\n\n// Customized for this use-case\nconst isObjectCustom = value =>\n\tisObject(value) &&\n\t!(value instanceof RegExp) &&\n\t!(value instanceof Error) &&\n\t!(value instanceof Date);\n\nconst mapObject = (object, mapper, options, isSeen = new WeakMap()) => {\n\toptions = {\n\t\tdeep: false,\n\t\ttarget: {},\n\t\t...options\n\t};\n\n\tif (isSeen.has(object)) {\n\t\treturn isSeen.get(object);\n\t}\n\n\tisSeen.set(object, options.target);\n\n\tconst {target} = options;\n\tdelete options.target;\n\n\tconst mapArray = array => array.map(element => isObjectCustom(element) ? mapObject(element, mapper, options, isSeen) : element);\n\tif (Array.isArray(object)) {\n\t\treturn mapArray(object);\n\t}\n\n\tfor (const [key, value] of Object.entries(object)) {\n\t\tconst mapResult = mapper(key, value, object);\n\n\t\tif (mapResult === mapObjectSkip) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [newKey, newValue, {shouldRecurse = true} = {}] = mapResult;\n\n\t\t// Drop `__proto__` keys.\n\t\tif (newKey === '__proto__') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tif (options.deep && shouldRecurse && isObjectCustom(newValue)) {\n\t\t\tnewValue = Array.isArray(newValue) ?\n\t\t\t\tmapArray(newValue) :\n\t\t\t\tmapObject(newValue, mapper, options, isSeen);\n\t\t}\n\n\t\ttarget[newKey] = newValue;\n\t}\n\n\treturn target;\n};\n\nmodule.exports = (object, mapper, options) => {\n\tif (!isObject(object)) {\n\t\tthrow new TypeError(`Expected an object, got \\`${object}\\` (${typeof object})`);\n\t}\n\n\treturn mapObject(object, mapper, options);\n};\n\nmodule.exports.mapObjectSkip = mapObjectSkip;\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,QAAQ,GAAGC,KAAK,IAAI,OAAOA,KAAK,KAAK,QAAQ,IAAIA,KAAK,KAAK,IAAI;AACrE,MAAMC,aAAa,GAAGC,MAAM,CAAC,MAAM,CAAC;;AAEpC;AACA,MAAMC,cAAc,GAAGH,KAAK,IAC3BD,QAAQ,CAACC,KAAK,CAAC,IACf,EAAEA,KAAK,YAAYI,MAAM,CAAC,IAC1B,EAAEJ,KAAK,YAAYK,KAAK,CAAC,IACzB,EAAEL,KAAK,YAAYM,IAAI,CAAC;AAEzB,MAAMC,SAAS,GAAGA,CAACC,MAAM,EAAEC,MAAM,EAAEC,OAAO,EAAEC,MAAM,GAAG,IAAIC,OAAO,CAAC,CAAC,KAAK;EACtEF,OAAO,GAAG;IACTG,IAAI,EAAE,KAAK;IACXC,MAAM,EAAE,CAAC,CAAC;IACV,GAAGJ;EACJ,CAAC;EAED,IAAIC,MAAM,CAACI,GAAG,CAACP,MAAM,CAAC,EAAE;IACvB,OAAOG,MAAM,CAACK,GAAG,CAACR,MAAM,CAAC;EAC1B;EAEAG,MAAM,CAACM,GAAG,CAACT,MAAM,EAAEE,OAAO,CAACI,MAAM,CAAC;EAElC,MAAM;IAACA;EAAM,CAAC,GAAGJ,OAAO;EACxB,OAAOA,OAAO,CAACI,MAAM;EAErB,MAAMI,QAAQ,GAAGC,KAAK,IAAIA,KAAK,CAACC,GAAG,CAACC,OAAO,IAAIlB,cAAc,CAACkB,OAAO,CAAC,GAAGd,SAAS,CAACc,OAAO,EAAEZ,MAAM,EAAEC,OAAO,EAAEC,MAAM,CAAC,GAAGU,OAAO,CAAC;EAC/H,IAAIC,KAAK,CAACC,OAAO,CAACf,MAAM,CAAC,EAAE;IAC1B,OAAOU,QAAQ,CAACV,MAAM,CAAC;EACxB;EAEA,KAAK,MAAM,CAACgB,GAAG,EAAExB,KAAK,CAAC,IAAIyB,MAAM,CAACC,OAAO,CAAClB,MAAM,CAAC,EAAE;IAClD,MAAMmB,SAAS,GAAGlB,MAAM,CAACe,GAAG,EAAExB,KAAK,EAAEQ,MAAM,CAAC;IAE5C,IAAImB,SAAS,KAAK1B,aAAa,EAAE;MAChC;IACD;IAEA,IAAI,CAAC2B,MAAM,EAAEC,QAAQ,EAAE;MAACC,aAAa,GAAG;IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAGH,SAAS;;IAE/D;IACA,IAAIC,MAAM,KAAK,WAAW,EAAE;MAC3B;IACD;IAEA,IAAIlB,OAAO,CAACG,IAAI,IAAIiB,aAAa,IAAI3B,cAAc,CAAC0B,QAAQ,CAAC,EAAE;MAC9DA,QAAQ,GAAGP,KAAK,CAACC,OAAO,CAACM,QAAQ,CAAC,GACjCX,QAAQ,CAACW,QAAQ,CAAC,GAClBtB,SAAS,CAACsB,QAAQ,EAAEpB,MAAM,EAAEC,OAAO,EAAEC,MAAM,CAAC;IAC9C;IAEAG,MAAM,CAACc,MAAM,CAAC,GAAGC,QAAQ;EAC1B;EAEA,OAAOf,MAAM;AACd,CAAC;AAEDiB,MAAM,CAACC,OAAO,GAAG,CAACxB,MAAM,EAAEC,MAAM,EAAEC,OAAO,KAAK;EAC7C,IAAI,CAACX,QAAQ,CAACS,MAAM,CAAC,EAAE;IACtB,MAAM,IAAIyB,SAAS,CAAE,6BAA4BzB,MAAO,OAAM,OAAOA,MAAO,GAAE,CAAC;EAChF;EAEA,OAAOD,SAAS,CAACC,MAAM,EAAEC,MAAM,EAAEC,OAAO,CAAC;AAC1C,CAAC;AAEDqB,MAAM,CAACC,OAAO,CAAC/B,aAAa,GAAGA,aAAa"},"metadata":{},"sourceType":"script","externalDependencies":[]}